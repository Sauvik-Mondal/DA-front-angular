{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nimport * as i2 from \"../../services/common.service\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"@angular/material/card\";\nimport * as i5 from \"./star-rating/star-rating.component\";\nimport * as i6 from \"@angular/material/button\";\nexport let CoachDetailsComponent = /*#__PURE__*/(() => {\n  class CoachDetailsComponent {\n    constructor(http, common, router, acRoute) {\n      this.http = http;\n      this.common = common;\n      this.router = router;\n      this.acRoute = acRoute;\n      this.coach = {};\n      this.starCount = 5;\n      this.starColor = 'primary';\n    }\n\n    ngOnInit() {\n      this.id = this.acRoute.snapshot.paramMap.get('coachId');\n      this.http.get(`http://localhost:3000/api/coaches/${this.id}`).subscribe(data => {\n        this.coach = data;\n        console.log(this.coach);\n      }, err => console.error(err));\n    }\n\n    onRatingChanged(newRating) {\n      this.coach.rating = newRating;\n      this.http.patch(`http://localhost:3000/api/coaches/`, {\n        rating: newRating,\n        userId: payload.userId\n      }, {\n        headers: {\n          \"x-auth-token\": this.common.getAuthToken()\n        }\n      }).subscribe(data => {\n        console.log(data);\n      }, error => {\n        console.log(\"error: \");\n        console.log(error);\n        throw new Error(\"Error in updating rating, error code: \" + error.message);\n      });\n    }\n\n  }\n\n  CoachDetailsComponent.ɵfac = function CoachDetailsComponent_Factory(t) {\n    return new (t || CoachDetailsComponent)(i0.ɵɵdirectiveInject(i1.HttpClient), i0.ɵɵdirectiveInject(i2.CommonService), i0.ɵɵdirectiveInject(i3.Router), i0.ɵɵdirectiveInject(i3.ActivatedRoute));\n  };\n\n  CoachDetailsComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: CoachDetailsComponent,\n    selectors: [[\"app-coach-details\"]],\n    decls: 18,\n    vars: 7,\n    consts: [[1, \"example-card\"], [1, \"ajdust-text\"], [2, \"margin\", \"-8px 0 10px 4px\"], [3, \"rating\", \"starCount\", \"color\", \"ratingUpdated\"], [\"mat-flat-button\", \"\", \"routerLink\", \"../../coachlist\", \"color\", \"primary\", 1, \"login-btn\"]],\n    template: function CoachDetailsComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"mat-card\", 0);\n        i0.ɵɵelementStart(1, \"mat-card-header\");\n        i0.ɵɵelementStart(2, \"mat-card-title\");\n        i0.ɵɵtext(3);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(4, \"mat-card-subtitle\");\n        i0.ɵɵtext(5);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(6, \"mat-card-content\");\n        i0.ɵɵelementStart(7, \"div\", 1);\n        i0.ɵɵelementStart(8, \"p\");\n        i0.ɵɵtext(9);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(10, \"div\", 2);\n        i0.ɵɵelementStart(11, \"mat-star-rating\", 3);\n        i0.ɵɵlistener(\"ratingUpdated\", function CoachDetailsComponent_Template_mat_star_rating_ratingUpdated_11_listener($event) {\n          return ctx.onRatingChanged($event);\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(12, \"div\", 1);\n        i0.ɵɵelementStart(13, \"p\");\n        i0.ɵɵtext(14);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(15, \"mat-card-actions\");\n        i0.ɵɵelementStart(16, \"button\", 4);\n        i0.ɵɵtext(17, \"Back\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(3);\n        i0.ɵɵtextInterpolate(ctx.coach.name);\n        i0.ɵɵadvance(2);\n        i0.ɵɵtextInterpolate(ctx.coach.expertise);\n        i0.ɵɵadvance(4);\n        i0.ɵɵtextInterpolate1(\"Courses:\\u00A0\", ctx.coach.noOfCourses, \"\");\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"rating\", ctx.coach.rating)(\"starCount\", ctx.starCount)(\"color\", ctx.starColor);\n        i0.ɵɵadvance(3);\n        i0.ɵɵtextInterpolate1(\"Rating:\\u00A0\", ctx.coach.rating, \"\");\n      }\n    },\n    directives: [i4.MatCard, i4.MatCardHeader, i4.MatCardTitle, i4.MatCardSubtitle, i4.MatCardContent, i5.StarRatingComponent, i4.MatCardActions, i6.MatButton, i3.RouterLink],\n    styles: [\".ajdust-text[_ngcontent-%COMP%]{margin-left:15px}.example-card[_ngcontent-%COMP%]{position:relative;max-width:45%;min-width:200px;padding:1%;margin:2vw 30vw 0;background-color:#d7e0f5}.login-btn[_ngcontent-%COMP%]{margin:1px 1px 6px 5%}@media screen and (max-width: 650px){.example-card[_ngcontent-%COMP%]{margin:2vw 10vw 0;max-width:none;min-width:none;width:60%}}@media screen and (max-width: 280px){.example-card[_ngcontent-%COMP%]{margin:2vw;max-width:none;min-width:none;width:90%}}\"]\n  });\n  return CoachDetailsComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}